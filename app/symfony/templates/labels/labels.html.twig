{% extends 'menu.html.twig' %}

{% block title %}TicketsApp | Labels{% endblock %}

{% block body %}
    <h1>Labels</h1>

    <section>
        <button type="button" class="btn-gradient mt-0 mb-5" id="labelFormButton">Add new</button>
        <div class="label-form" id="labelForm" style="display: none;">
            <p class="" id="labelFormClose"><a><i class="bi bi-x-circle"></i>  Close</a></p>
            <p>Enter a name for a new label:</p>
            {{ form_start(labelForm, {'attr': {'class': 'form-post'}}) }}
            {{ form_row(labelForm.name, {'attr': {'class': 'form-control'} }) }}
            {{ form_row(labelForm.submit, {'attr': {'class': 'btn btn-gradient mb-5'}}) }}
            {{ form_end(labelForm) }}
        </div>
    </section>

    <section class="categories row">
        <table class="table responsive-table table-bordered table-striped">
            <thead>
            <tr>
                <th>Label</th>
                <th>Tickets</th>
                <th>Actions</th>
            </tr>
            </thead>

            <tbody>
            {% for label in labels %}
                <tr>
                    <td>
                        {{ label.name }}
                    </td>
                    <td>
                        {{ label.tickets | length }}
                    </td>

                    <td>
                        <a href="{{ path('app_label_edit', {'id': label.id}) }}" class="label-action" title="Edit"><i class="bi bi-pencil-square"></i></a>
                        <a href="{{ path('app_label_delete', {'id': label.id}) }}" class="label-action" title="Delete" onclick="return confirm('Are you sure you want to delete this category?')"><i class="bi bi-trash3"></i></a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </section>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('assets/js/labels.js') }}"></script>
{% endblock %}